---
layout: post
title: 设计模式
category: workFighting
tags: 设计模式
description: 
---

## 单例模式
单例就是保证一个类只有一个实例。

### 实现方法
一般是先判断实例存在与否，如果存在直接返回，如果不存在就创建了再返回，这就确保了一个类只有一个实例对象。在JavaScript里，
单例作为一个命名空间提供者，从全局命名空间里提供一个唯一的访问点来访问该对象。

1.每个对象字面量都可以看做是一个单例
```js
var single = {
  m:"xxx",
  n:"yyy",
  f1:function(){
    console.log(this.m);
  }
}

var mySingleton = {
    property1: "something",
    property2: "something else",
    method1: function () {
        console.log('hello world');
    }
};
```
里面添加一个闭包保护私有变量
```js
var mySingleton = function () {

    /* 这里声明私有变量和方法 */
    var privateVariable = 'something private';
    function showPrivate() {
        console.log(privateVariable);
    }

    /* 公有变量和方法（可以访问私有变量和方法） */
    return {
        publicMethod: function () {
            showPrivate();
        },
        publicVar: 'the public can see this!'
    };
};

var single = mySingleton();
single.publicMethod();  // 输出 'something private'
console.log(single.publicVar); // 输出 'the public can see this!'
```

用一个变量标识当前是否已经为某个类创建过对象，如果是，则在下一次获取这个类的实例时，直接返回之前创建的对象。
```js
// 单例模式
var Singleton = function(name){
    this.name = name;
    this.instance = null;
};
Singleton.prototype.getName = function(){
    return this.name;
};
// 获取实例对象
Singleton.getInstance = function(name) {
    if(!this.instance) {
        this.instance = new Singleton(name);
    }
    return this.instance;
};
// 测试单例模式的实例
var a = Singleton.getInstance("aa");
var b = Singleton.getInstance("bb");

console.log(a===b)  //true

console.log(a.getName());// aa

console.log(b.getName());// aa  
```
参考原文：(https://blog.csdn.net/sinat_22209293/article/details/79101546)

参考原文：(http://www.cnblogs.com/TomXu/archive/2012/02/20/2352817.html)
