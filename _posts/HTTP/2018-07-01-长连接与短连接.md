---
layout: post
title: 长连接与短连接
category: HTTP
tags: 长连接与短连接
description: 
---

## 长连接
client与server先建立连接，连接建立后不断开，然后再进行报文发送和接收。这种方式下由于通讯连接一直存在。此种方式常用于P2P通信。

多用于操作频繁，点对点的通信，而且连接数不能太多的情况。

例如：数据库的连接用长连接，如果用短链接频繁的通信会造成socket错误，频繁的socket创建也是对资源的浪费。

## 短链接
client与server每进行一次报文收发交易时才进行通讯连接，交易完毕后立即断开连接。此方式常用于一对多通信。

web网站的http服务一般都用短链接。因为长连接对于服务器来说是要耗费一定的资源。向web网站这么频繁的成千上万甚至上亿的客户端连接用短连接更省一些资源。

所以并发量大，每个用户又不频繁操作的情况下需要短链接。

总之，长连接和短连接的选择要视需求而定。
